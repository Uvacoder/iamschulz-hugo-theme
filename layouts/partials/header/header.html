<header class="header">
    <h1 class="header__title">
        <a href="{{ .Site.BaseURL }}" class="header__title-link">{{ .Site.Title }}</a>
    </h1>
</header>
<nav class="header__menu">
    <ul class="header__menu-list">
        {{ $currentPage := . }}
        {{ range .Site.Menus.main }}
            {{ $active := or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .) }}
            {{ $active = or $active (in $currentPage.Params.categories .Name) }}

            <li class="header__menu-item">
                <a class="header__menu-link {{ if $active }}is--active{{ end }}" href="{{ .URL }}">
                    {{ if .Pre }}{{ partial "icon.html" (dict "name" .Pre "ctx" $)}}{{ end }}
                    {{ .Name }}
                </a>
            </li>
        {{ end }}
    </ul>
</nav>